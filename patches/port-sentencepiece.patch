diff --git a/fix-crt-linkage-and-pkgconfig.patch b/fix-crt-linkage-and-pkgconfig.patch
new file mode 100644
index 0000000..85ce3eb
--- /dev/null
+++ b/fix-crt-linkage-and-pkgconfig.patch
@@ -0,0 +1,28 @@
+diff --git a/CMakeLists.txt b/CMakeLists.txt
+index 78379a3..e76ba03 100644
+--- a/CMakeLists.txt
++++ b/CMakeLists.txt
+@@ -63,10 +63,10 @@ else()
+ endif()
+ 
+ if (MSVC)
+-  string(REPLACE "/MD" "/MT" CMAKE_CXX_FLAGS_DEBUG          ${CMAKE_CXX_FLAGS_DEBUG})
+-  string(REPLACE "/MD" "/MT" CMAKE_CXX_FLAGS_MINSIZEREL     ${CMAKE_CXX_FLAGS_MINSIZEREL})
+-  string(REPLACE "/MD" "/MT" CMAKE_CXX_FLAGS_RELEASE        ${CMAKE_CXX_FLAGS_RELEASE})
+-  string(REPLACE "/MD" "/MT" CMAKE_CXX_FLAGS_RELWITHDEBINFO ${CMAKE_CXX_FLAGS_RELWITHDEBINFO})
++  #string(REPLACE "/MD" "/MT" CMAKE_CXX_FLAGS_DEBUG          ${CMAKE_CXX_FLAGS_DEBUG})
++  #string(REPLACE "/MD" "/MT" CMAKE_CXX_FLAGS_MINSIZEREL     ${CMAKE_CXX_FLAGS_MINSIZEREL})
++  #string(REPLACE "/MD" "/MT" CMAKE_CXX_FLAGS_RELEASE        ${CMAKE_CXX_FLAGS_RELEASE})
++  #string(REPLACE "/MD" "/MT" CMAKE_CXX_FLAGS_RELWITHDEBINFO ${CMAKE_CXX_FLAGS_RELWITHDEBINFO})
+   add_definitions("/wd4267 /wd4244 /wd4305 /Zc:strictStrings /utf-8")
+ endif()
+ 
+@@ -97,7 +97,7 @@ endif()
+ configure_file("${PROJECT_SOURCE_DIR}/config.h.in" "config.h")
+ configure_file("${PROJECT_SOURCE_DIR}/sentencepiece.pc.in" "sentencepiece.pc" @ONLY)
+ 
+-if (NOT MSVC)
++if (true)
+   # suppress warning for C++11 features.
+ #  add_definitions("-Wno-deprecated-declarations -Wno-deprecated-enum-enum-conversion")
+   install(FILES "${CMAKE_CURRENT_BINARY_DIR}/sentencepiece.pc" DESTINATION ${CMAKE_INSTALL_LIBDIR}/pkgconfig)
diff --git a/portfile.cmake b/portfile.cmake
index ad0b4a1..021c4e2 100644
--- a/portfile.cmake
+++ b/portfile.cmake
@@ -1,5 +1,5 @@
 if(NOT VCPKG_CMAKE_SYSTEM_NAME)
-    vcpkg_check_linkage(ONLY_STATIC_LIBRARY ONLY_STATIC_CRT)
+    vcpkg_check_linkage(ONLY_STATIC_LIBRARY)
 endif()
 
 vcpkg_from_github(
@@ -8,6 +8,8 @@ vcpkg_from_github(
     REF 58f256cf6f01bb86e6fa634a5cc560de5bd1667d #v0.1.97
     SHA512 9abe21f76aa025d35a0210bc1a5b0c6f2bb2ab9f626ef9d59bcd8950442036af048ca3945db311d80ff378d41f984a941f39c206e2aa006f1ca0278426d03932
     HEAD_REF master
+	PATCHES
+		fix-crt-linkage-and-pkgconfig.patch
 )
 
 vcpkg_cmake_configure(
@@ -24,6 +26,7 @@ file(REMOVE_RECURSE "${CURRENT_PACKAGES_DIR}/debug/bin")
 if(NOT VCPKG_CMAKE_SYSTEM_NAME AND NOT VCPKG_BUILD_TYPE)
     file(RENAME "${CURRENT_PACKAGES_DIR}/debug/lib/sentencepiece.lib" "${CURRENT_PACKAGES_DIR}/debug/lib/sentencepieced.lib")
     file(RENAME "${CURRENT_PACKAGES_DIR}/debug/lib/sentencepiece_train.lib" "${CURRENT_PACKAGES_DIR}/debug/lib/sentencepiece_traind.lib")
+	vcpkg_replace_string("${CURRENT_PACKAGES_DIR}/debug/lib/pkgconfig/sentencepiece.pc" "-lsentencepiece -lsentencepiece_train" "-lsentencepieced -lsentencepiece_traind")
 endif()
 
 configure_file("${SOURCE_PATH}/LICENSE" "${CURRENT_PACKAGES_DIR}/share/${PORT}/copyright" COPYONLY)
